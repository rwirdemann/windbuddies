{% extends "main/base.html" %}
{% load extras %}
{% load i18n %}
{% load static %}

{% block content %}
<ul class="list-unstyled">
    {% for s in latest_sessions %}
    <li class="d-flex mb-2">
        <img src="{{ s.spot_image }}" alt="Spot" class="mr-3" style="width:80px;height:80px;">
        <div class="flex-grow-1 p-2">
            <strong>{{ s.spot }}</strong> 
            {{ s.when|date:'l d. F Y' }}
            <p>Surfer: {{ s.rider_names }}</p>
        </div>
        <div>
            {% if user|can_delete:s %}
                <a href="{% url 'delete' s.id %}">{% trans 'delete' %}</a>&nbsp;
            {% endif %}
            {% if user|is_member:s %}
                <a class="btn btn-outline-primary"href="{% url 'unjoin' s.id %}">{% trans 'unjoin' %}</a>&nbsp;
            {% else %}
                <a class="btn btn-outline-primary"href="{% url 'join' s.id %}">{% trans 'join' %}</a>&nbsp;
            {% endif %}
        </div>
    </li>
    {% endfor %}
</ul>
{% endblock %}